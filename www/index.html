<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <title>Univers du cuir</title>
    <link rel="stylesheet" type="text/css" href="css/index.css" />
	<link rel="stylesheet" href="js/assets/jquery.signaturepad.css">
<!--[if lt IE 9]><script src="js/assets/flashcanvas.js"></script><![endif]-->
    <script type="text/javascript" src="phonegap.js"></script>
    <script src="js/jquery-1.8.3.min.js"></script>
    <script src="js/jquery.signaturepad.js"></script>
    <script src="js/assets/json2.min.js"></script>
    <script src="Util.js"></script>                                  <!-- Util javascript -->
    <script src="DB.js"></script>                                    <!-- Base de données : Init, Synchro -->
    <script src="File.js"></script>                                  <!-- Fichiers : Création/Suppression/Download/Upload -->
    <script src="Objets.js"></script>                                <!-- Classes : Modele, Commande -->
    <script src="FenRech.js"></script>                               <!-- Fenêtres de recherche -->
    <script src="Tarif.js"></script>                                 <!-- Panneau tarif -->
    <script src="Commande.js"></script>                              <!-- Panneau commande, nouvelle vente -->
    <script src="Main.js"></script>                                  <!-- Interface : Init Appli, Getion panneaux écrans, Outils Phonegap -->
</head>
<body>
<!--
	PANNEAU INIT APPLI
-->
<div id="Init" class="Panneau current">
    <img src="images/logo.png" class="Logo">
    <h2>Initialisation (première utilisation)</h2><br/>
    <p><a class="rouge" onClick="InitAll()">Initialiser</a></p><br/>
    <img src="images/loader.gif" class="loader">
    <p id="InitResult"></p>
</div>
<!--
	PANNEAU LOGIN
-->
<div id="Connexion" class="Panneau">
    <img src="images/logo.png" class="Logo">
    <form name="ident" id="ident" action="#" method="post">
    <h2>Veuillez vous identifier</h2><br/>
    <table id="tcon">
    <tr><td align="right">Nom : </td><td><input type="text" name="User" id="User" size="20" required/></td></tr>
    <tr><td align="right">Mot de passe : </td><td><input type="password" name="Psw" id="Psw" size="20" required/></td></tr>
    <tr><td></td><td align="left"><input type="button" id="btnlog" value="OK" onClick="dbu.login()"/></td></tr>
    </table>
    </form>
    <p id="rechmod"></p>
</div>
<!--
	PANNEAU MENU GENERAL
-->
<div id="Main" class="Panneau">
    <img src="images/logo.png" class="Logo"><br/><br/><br/>
    <h2>Sélectionnez votre choix</h2><br/>
    <p><a onClick="Go('Commande')">Nouvelle vente</a></p><br/>
    <p class="lienconsulthist"><a onClick="">Consulter l'historique</a></p><br class="lienconsulthist"/>
    <p><a onClick="Go('Tarif')">Tarif</a></p><br/>
    <p><a onClick="">Photos</a></p><br/>
    <p><a onClick="">Fiches techniques</a></p><br/>
    <p><a onClick="dbu.logout()">Se déconnecter</a></p><br/><br/>
    <p><a onClick="Go('Administration')">Administration</a></p><br/><br/>
</div>
<!--
	PANNEAU TARIF
-->
<div id="Tarif" class="Panneau">
    <a onClick="Go('Main')" class="bRetour"><img src="images/close.png" width="50" height="50"/></a>
    <h1 class="ML10 MT10">Tarif</h1>
    <div id="LeModele" class="ML10">
        <div class="floatleft"><p>Modèle : <button id="RechMod" onClick="InitRech('trfModeles')">Choisir</button></p></div>
        <div class="floatleft ML15"><p>Revêtement : <button id="RechCuir" onClick="InitRech('trfTypeCuir')">Choisir</button></p></div>
        <div class="floatleft ML15"><p>Couleur : <button id="RechCouleur" onClick="InitRech('trfCouleur')">Choisir</button></p></div>
        <div class="floatleft ML15"><p>Option : <button id="RechOptions" onClick="InitRech('trfOption')">Choisir</button></p></div>
        <div class="clear"></div>
    </div>
    <div id="trfResult"></div>
    <div id="trfElems">
        <div><table><thead class="fixedHeader"><tr><th align="left">Elément</th><th align="left">Description</th><th align="right">Prix&nbsp;&nbsp;&nbsp;&nbsp;</th></tr></thead></table></div>
        <div id="trfLesElems">
        <table id="trfTLesElems" class="scrollContent">
        <!-- <tr><td>123456</td><td>dffdsfkjhg lkdfjgh ldfskgjhlruhksjhglkdfjhgldfkj</td><td align="right">12.00 €</td></tr> -->
        </table>
        </div>
    </div>
</div>
<!--
	PANNEAU NOUVELLE VENTE
-->
<div id="Commande" class="Panneau">
	<div id="croquis">
        <div id="croqpad">
            <div id="sigPadCroquis" class="sigPad" style="position:relative;">
              <div class="sigWrapper" style="">
                <canvas class="pad" width="1012" height="257" style=""></canvas>
              </div>
            </div>
        </div>
        <button class="btncde ML15" onClick="cdeCroquisFini()">Utiliser ce croquis</button>&nbsp;&nbsp;<button class="btncde ML15" onClick="cdeCroquisEfface()">Tout effacer</button>
    </div>
	<div id="Ecran1" class="EcranCde current2">
        <div class="cdeEntete">
        <table width="100%"><tr><td width="33%">18 décembre 2013</td><td align="center">Commande : <strong>16541</strong></td><td width="33%" align="right">Chris</td></tr></table>
        </div>
        <div class="cdeContent">
        <div class="bloc">
            <p>Facturation fractionnée&nbsp;&nbsp;&nbsp;
            <input type="radio" name="fract" id="fracoui" onChange="chkFrac()"><label for="fracoui">Oui</label>&nbsp;&nbsp;<input type="radio" name="fract" id="fracnon" onChange="chkFrac()" checked="checked"><label for="fracnon">Non</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <span id="rubrfrac">Nombre : <select id="NbFrac">
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option></select></span>
            </p>
            <p><input type="radio" name="genre" id="Partic" value="1" checked="checked" onChange="chkPartSoc()"><label for="Partic" id="lPartic">Particulier</label>&nbsp;&nbsp;
            <input type="radio" name="genre" id="Societ" value="2" onChange="chkPartSoc()"><label for="Societ">Société</label>&nbsp;&nbsp;
            <input type="text" name="remvend" id="RemarqueVendeur" placeholder="Remarque conseillé">
            </p>
            <div id="rubrsoc">
            <p class="floatleft"><input type="text" id="Societe" placeholder="Société"></p>
            <p class="floatleft ML20"><input type="text" id="NumTva" placeholder="N° de TVA"-></p><div class="clear"></div>
            <p>
            <input type="radio" name="civil0" id="Civil0Mr" checked="checked" /><label for="Civil0Mr">Mr</label>
            <input type="radio" name="civil0" id="Civil0Mme" class="ML15" /><label for="Civil0Mme">Mme</label>
            <input type="text" name="respon" id="Responsable" placeholder="Responsable" class="ML15" />
            </p>
            </div>
            <div class="floatleft">
            <div id="rubrpart">
            <p>
            <input type="radio" name="civil1" id="Civil1Mr" checked="checked" /><label for="Civil1Mr">Mr</label>
            <input type="radio" name="civil1" id="Civil1Mme" class="ML15" /><label for="Civil1Mme">Mme</label>
            <input type="text" name="prenom1" id="Prenom1" placeholder="Prénom" class="ML15" />
            <input type="text" name="nom1" id="Nom1" placeholder="Nom" class="ML15" />
            </p>
            <p>
            <input type="radio" name="civil2" id="Civil2Mr"/><label for="Civil2Mr">Mr</label>
            <input type="radio" name="civil2" id="Civil2Mme" checked="checked"  class="ML15" /><label for="Civil2Mme">Mme</label>
            <input type="text" name="prenom2" id="Prenom2" placeholder="Prénom" class="ML15" />
            <input type="text" name="nom2" id="Nom2" placeholder="Nom" class="ML15" />
            </p>
            </div>
            <p><input type="text" name="adress" id="Adresse" placeholder="Rue, N°, Etage" /></p>
            <p>
            <input type="text" name="cp" id="CP" placeholder="Code postal" />
            <input type="text" name="ville" id="Ville" placeholder="Localité" class="ML15" />
            </p>
            <p><input type="email" name="email" id="Email" placeholder="Email" /></p>
            <p><input type="tel" name="tel1" id="Tel1" placeholder="Téléphone" /><input type="tel" name="tel2" id="Tel2" placeholder="Téléphone" class="ML15" /></p>
            <p><input type="tel" name="gsm1" id="Gsm1" placeholder="Gsm" /><input type="tel" name="gsm2" id="Gsm2" placeholder="Gsm" class="ML15" /></p>
            <p><textarea id="Remarque1" placeholder="Remarque"></textarea></p>
            <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
            </div>
            <div class="floatleft ML20">
            </div><div class="clear"></div>
        </div>
        </div>
        <div class="cdeFooter">
        <button class="btncde ML15" onClick="Go('Main')">Annulation vente</button><button class="btncde ML15" onClick="chkEcran()">Ecran suivant</button>
        </div>
    </div>
	<div id="Ecran2" class="EcranCde">
        <div class="cdeEntete">
        <table width="100%"><tr><td width="33%">18 décembre 2013</td><td align="center">Commande : <strong>16541</strong></td><td width="33%" align="right">Chris</td></tr></table>
        </div>
        <div class="cdeContent">
            <div id="cdeChoix">
                <div id="cx1" class="floatleft">
                	<p>Modèle : <button id="RechMod" onClick="InitRech('cdeModeles')">Choisir</button></p>
                    <p id="cdemoduc"></p>
                </div>
                <div id="cx2" class="floatleft ML15">
                	<p>Revêtement : <button id="RechCuir" onClick="InitRech('cdeTypeCuir')">Choisir</button></p>
                    <p id="cdecuiruc"></p>
                </div>
                <div id="cx3" class="floatleft ML15">
                	<p>Couleur : <button id="RechCouleur" onClick="InitRech('cdeCouleur')">Choisir</button></p>
                    <p id="cdecolouc"></p>
                </div>
                <div id="cx4" class="floatleft ML15">
                	<p>Option : <button id="RechOptions" onClick="InitRech('cdeOption')">Choisir</button></p>
                    <p id="cdeopfr"></p>
                </div>
                <div class="clear"></div>
            </div><br/>
            <p>Délai de livraison : <input type="tel" id="Delai"/> semaines&nbsp;&nbsp;&nbsp;
            <input type="radio" name="GenreDelai" id="GenreASAP" checked><label for="GenreASAP">ASAP</label>
            <input type="radio" name="GenreDelai" id="GenreResp"><label for="GenreResp">Respecter</label>
            </p>
            <div id="cdeElems" class="floatleft">
                <div><table><thead class="cdefixedHeader"><tr><th align="left">Eléments</th><th align="right">Quantité&nbsp;&nbsp;&nbsp;&nbsp;</th></tr></thead></table></div>
                <div id="cdeLesElems">
                <table id="cdetLesElems" class="cdescrollContent">
                <!-- <tr><td>123456</td><td>dffdsfkjhg lkdfjgh ldfskgjhlruhksjhglkdfjhgldfkj</td><td align="right">12.00 €</td></tr> -->
                </table>
                </div>
            </div>
            <div id="cdeRemMod" class="floatleft ML15">
            </div>
            <div class="clear"></div>
            <p class="ML15"><button class="btncde" id="ajelem" onClick="InitRech('cdeAjElem')">Ajouter un élément</button>&nbsp;<button class="btncde" id="supprelem" onClick="InitRech('cdeSupprElem')">Supprimer un élément</button>&nbsp;<button class="btncde" id="ajrem" onClick="cdeAjRem()">Ajouter une remarque</button></p><br/>
            <p class="ML15"><label for="factenssiege" class="ML15">Facturation "Ensemble de sièges"&nbsp;</label><input type="checkbox" id="factenssiege">&nbsp;&nbsp;&nbsp;&nbsp;<button class="btncde" id="realcroquis" onClick="cdeCroquis()">Réaliser un croquis</button></p>
        </div>
        <div class="cdeFooter">
        <button class="btncde ML15" onClick="prevEcran()">Ecran précédent</button><button class="btncde ML15" onClick="Go('Main')">Annulation vente</button><button class="btncde ML15" onClick="chkEcran()">Ecran suivant</button>
        </div>
    </div>
	<div id="Ecran3" class="EcranCde"> 
        <div class="cdeEntete">
        <table width="100%"><tr><td width="33%">18 décembre 2013</td><td align="center">Commande : <strong>16541</strong></td><td width="33%" align="right">Chris</td></tr></table>
        </div>
        <div class="cdeContent">
            <div style="text-align:center; margin-top:20%;">
            <p>Ajouter un autre modèle à la commande ?</p>
            <button class="btncde ML15" onClick="btnNouvMod()">Oui</button>&nbsp;&nbsp;<button class="btncde ML15" onClick="cdeEcranPrix()">Non</button>
            </div>
        </div>
        <div class="cdeFooter">
        <button class="btncde ML15" onClick="Go('Main')">Annulation vente</button>
        </div>
    </div>
	<div id="Ecran4" class="EcranCde">
        <div class="cdeEntete">
        <table width="100%"><tr><td width="33%">18 décembre 2013</td><td align="center">Commande : <strong>16541</strong></td><td width="33%" align="right">Chris</td></tr></table>
        </div>
        <div class="cdeContent">
        	<div style="width:550px; text-align:center">
                <table width="80%" style="width:500px; border:1px solid #000" id="tableauprix">
                <tr><td align="left">Prix de vente :</td><td><input type="text" id="cdePV" value="" size="15"/></td></tr>
                <tr><td align="left">Prix total au tarif :</td><td><input type="text" id="cdePT" value="" size="15"/></td></tr>
                <tr><td align="left">Remises et promotions :</td><td><input type="text" id="cdeRem" value="" size="15"/></td></tr>
                <tr><td align="left">Rachat salon :</td><td><input type="text" id="" value="cdeRachat" size="15"/></td></tr>
                <tr><td align="left">Frais complémentaires : <br/><input type="text" id="cdeFCLIB" value="" size="25"/></td><td><input type="text" id="cdeFC" value="" size="15"/></td></tr>
                <tr><td align="right">Prix de vente total : </td><td><input type="text" id="cdePVTOT" value="" size="15"/></td></tr>
                </table>
                <div style="width:500px; text-align:right;">
                    <p>Financement d'une partie de l'achat&nbsp;&nbsp;<input type="radio" name="finpartachat" id="chkfinoui" value="oui">&nbsp;<label for="chkfinoui">Oui</label>&nbsp;&nbsp;<input type="radio" id="chkfinnon" name="finpartachat" value="non">&nbsp;<label for="chkfinnon">Non</label></p><br/>
                    <p>Montant du crédit : <input type="text" id="MontantFin" size="20"/></p><br/>
                    <p><label class="P20" for="chkexon">Exonération TVA</label>&nbsp;&nbsp;<input type="checkbox" id="chkexon"></p>
                </div>
            </div>
        </div>
        <div class="cdeFooter">
        <button class="btncde ML15" onClick="Go('Main')">Annulation vente</button><button class="btncde ML15" onClick="chkEcran()">Ecran suivant</button>
        </div>
    </div>
</div>
<!--
	PANNEAU ADMINISTRATION
-->
<div id="Administration" class="Panneau">
    <a onClick="Go('Main')" class="bRetour"><img src="images/close.png" width="50" height="50"/></a>
    <div class="ML10 MT10">
    <h1 class="ML10">Administration</h1>
    <p class="ML10"><a onClick="SynchroAll()">Synchronisation Données</a></p><br/><img src="images/loader.gif" class="loader"><br/>
    <p class="ML10"><a onClick="SynchroImg()">Synchronisation Images</a>&nbsp;<span id="nbimg"></span></p><br/><img src="images/loader.gif" class="loader"><br/>
    <p class="uniquementadmin ML10"><a onClick="Go('SQL')">SQL</a></p><br class="uniquementadmin"/>
    </div>
</div>
<!--
	FENETRE DE RECHERCHE
-->
<div class="PanneauRech">
	<div class="HeaderPanRech">
    	<p>
        <span id="txtrech">Rechercher</span> :<br/>
        <input type="text" name="Rech" id="ChampRech" size="20" onFocus="this.value=''" onKeyup="PopulateRech('',this.value,null)" />
        <input type="hidden" name="QuelleRech" id="QuelleRech" />
        <input type="hidden" name="ValRech" id="ValRech" />
        <input type="hidden" name="DescRech" id="DescRech" />
        </p>
    </div>
    <div class="ContentPanRech">
    <ul id="lesli">
    <li><a id="VR023001" onclick="Choix($(this))">023001 - TABLE OVALE REF 3336</a></li>
    <li><a id="VR170016" onclick="Choix($(this))">170016 - DEBUSSY</a></li>
    </ul>
    </div>
    <div class="FooterPanRech">
    	<p><button id="btnOKPanRech">Ok</button><button class="ML15" id="btnAnnulerPanRech">Annuler</button></p>
    </div>
</div>
<!--
	PANNEAU SQL
-->
<div id="SQL" class="Panneau">
	<a onClick="Go('Main')" class="bRetour">Retour</a>
    <h1 class="ML10">SQL</h1>
    <table>
    <tr><td align="left">Requête : </td><td><textarea name="tsql" id="sqlReq" cols="100" rows="6" />select * from </textarea></td><td align="left"><input type="button" id="btnexec" value="Exécuter" onClick="ExecSQL()"/></td></tr>
    </table>
    <div id="sqlResult">
    </div>
</div>
<!-- LOG ET FOOTER -->
<div id="log"></div>
<footer id="footer">
<p><a onClick="$('#log').toggle()">&copy; Business Advices</a> <span id="cnType"></span></p>
</footer>
</body>
</html>